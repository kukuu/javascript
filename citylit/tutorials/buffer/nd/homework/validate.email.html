<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Email validation</title>

<script type="text/javascript">

function validate() {

	/*
	if (validateEmail(document.EmailForm.email.value) == false){
		fail("Invalid email address");
		return;
	}
	*/

	if (document.EmailForm.email.value === "") {
		fail("Email address missing");
		return;
	}

	else if (document.EmailForm.email.value.indexOf("@") == -1) {
		fail("No @ sign in email address");
		return;
	}
	
	else {
		var addr = document.EmailForm.email.value.split("@");
		if (addr[0].length < 1) {
			fail("User part of address missing");
		}
		else if (addr[1].indexOf(".") == -1) {
			fail("No dot character in email address");
			return;
		}
		else if (addr[1].length < 3) {
			fail("Invalid domain");
			return;
		}
		else {
			document.EmailForm.submit();
		}
	} 
}

function fail(msg) {
	alert("email error: " + msg);
}

/*
function validateEmail(email) { 
    var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
} 
*/

</script>
</head>
<h2>Validate email</h2>
<form name="EmailForm" action="#">
	<p>Email address: <input type="input" name="email" value="" /></p>
	<div style="margin-top:20px;">
		<input type="button" value="submit" onclick="validate()" /></p>
	</div>
</form>
<body>

</body>
</html>
